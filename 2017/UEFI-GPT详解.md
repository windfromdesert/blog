### UEFIUEFI中图形化的硬件设置界面Extensible Firmware Interface（EFI，可扩展固件接口）是 Intel 为全新类型的 PC 固件的体系结构、接口和服务提出的建议标准。其主要目的是为了提供一组在 OS 加载之前（启动前）在所有平台上一致的、正确指定的启动服务，被看做是有近20多年历史的PC BIOS的继任者。 由于电脑教育普及，很多人都知道BIOS就是Basic Input/Output System，翻成中文是“基本输入/输出系统”，是一种所谓的“固件”，负责在开机时做硬件启动和检测等工作，并且担任操作系统控制硬件时的中介角色。 然而，那些都是过去DOS 时代的事情，自从Windows NT出现，Linux 开始崭露头角后，这些操作系统已将过去需要通过BIOS完成的硬件控制程序放在操作系统中完成，不再需要调用BIOS功能。一般来说，当今所谓的“电脑高手”，多半是利用BIOS来对硬件性能做些超频调校，除了专业人士外，鲜有人再利用 BIOS 进行底层工作。 因为硬件发展迅速，传统式（Legacy）BIOS 成为进步的包袱，现在已发展出最新的EFI（Extensible Firmware Interface）可扩展固件接口，以现在传统 BIOS 的观点来说，未来将是一个“没有特定 BIOS”的电脑时代。 UEFI是由EFI1.10为基础发展起来的，它的所有者已不再是Intel，而是一个称作 [Unified EFI Form][1] 的国际组织，贡献者有Intel，Microsoft，AMI，等几个大厂，属于open source，目前版本为2.1。与legacy BIOS 相比，最大的几个区别在于： 1. 编码99%都是由C语言完成； 2. 一改之前的中断、硬件端口操作的方法，而采用了Driver/protocal的新方式； 3. 将不支持X86模式，而直接采用Flat mode（也就是不能用DOS了，现在有些 EFI 或 UEFI 能用是因为做了兼容，但实际上这部分不属于UEFI的定义了）； 4. 输出也不再是单纯的二进制code，改为Removable Binary Drivers； 5. OS启动不再是调用Int19，而是直接利用protocol/device Path； 6. 对于第三方的开发，前者基本上做不到，除非参与BIOS的设计，但是还要受到ROM的大小限制，而后者就便利多了。 UEFI将是近3年的趋势，到时候对于PC的利用以及维护都将步入一个新的时代。 ### GPT 磁盘+   特点先说说广泛使用的磁盘分区表方案。传统的分区方案(称为MBR分区方案)是将分区信息保存到磁盘的第一个扇区(MBR扇区)中的64个字节中，每个分区项占用16个字节，这16个字节中存有活动状态标志、文件系统标识、起止柱面号、磁头号、扇区号、隐含扇区数目(4个字节)、分区总扇区数目(4个字节)等内容。由于MBR扇区只有64个字节用于分区表，所以只能记录4个分区的信息。这就是硬盘主分区数目不能超过4个的原因。后来为了支持更多的分区，引入了扩展分区及逻辑分区的概念。但每个分区项仍用16个字节存储。MBR分区方案不是用得好好的吗？为什么要提出新的方案呢？那就让我们看看MBR分区方案有什么问题。前面已经提到了主分区数目不能超过4个的限制，这是其一，很多时候，4个主分区并不能满足需要。另外最关键的是MBR分区方案无法支持超过2TB容量的磁盘。因为这一方案用4个字节存储分区的总扇区数，最大能表示2的32次方的扇区个数，按每扇区512字节计算，每个分区最大不能超过2TB。磁盘容量超过2TB以后，分区的起始位置也就无法表示了。在硬盘容量突飞猛进的今天，2TB的限制将很快被突破。由此可见，MBR分区方案已经无法满足需要了。下面介绍GUID分区表方案。+   分区表GUID分区表(简称GPT。使用GUID分区表的磁盘称为GPT磁盘)是源自EFI标准的一种较新的磁盘分区表结构的标准。与普遍使用的主引导记录(MBR)分区方案相比，GPT提供了更加灵活的磁盘分区机制。它具有如下优点：1. 支持2TB以上的大硬盘。2. 每个磁盘的分区个数几乎没有限制。为什么说“几乎”呢？是因为Windows系统最多只允许划分128个分区。不过也完全够用了。3. 分区大小几乎没有限制。又是一个“几乎”。因为它用64位的整数表示扇区号。夸张一点说，一个64位整数能代表的分区大小已经是个“天文数字”了，若干年内你都无法见[1]  到这样大小的硬盘，更不用说分区了。4. 分区表自带备份。在磁盘的首尾部分分别保存了一份相同的分区表。其中一份被破坏后，可以通过另一份恢复。5. 每个分区可以有一个名称(不同于卷标)。做为一款分区软件，DiskGenius从3.1版本开始支持GUID分区表。这是国内第一款支持GUID分区表的分区软件。DiskGenius提供了GUID分区的建立、删除、格式化、已丢失分区恢复、文件恢复、分区表备份、GUID分区表格式与MBR分区表格式之间的相互转换(无误转换)等功能。### UEFI模式安装 archlinux 时的 GRUB 设置重要的 GRUB，没有GRUB你就别想启动系统	pacman -S grub-efi-x86_64           #UEFI版本本体	pacman -S efibootmgr                #EFI管理器	pacman -S os-prober              #双系统必需管理器(可选)	grub-install --efi-directory=/boot/efi --bootloader-id=grub 	#安装进EFI分区	grub-mkconfig -o /boot/grub/grub.cfg	#创建grub配置文件。	检查文本输出内是否有Windows，我的笔记本是重启后第二次grub-mkconfig才有的 但第一次也必不可少。Windows10的用户确定Windows关机而不是休眠。Tips: 如果发现重启后没有Windows，看上面的注释再执行一次grub-mkconfig。[1]: http://www.uefi.org "UEFI"